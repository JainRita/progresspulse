{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/hp/OneDrive/Documents/rita/my-app/components/org-switcher.jsx"],"sourcesContent":["\"use client\";\n\nimport { usePathname } from \"next/navigation\";\nimport {\n  OrganizationSwitcher,\n  SignedIn,\n  useOrganization,\n  useUser,\n} from \"@clerk/nextjs\";\n\nconst OrgSwitcher = () => {\n  const { isLoaded } = useOrganization();\n  const { isLoaded: isUserLoaded } = useUser();\n  const pathname = usePathname();\n\n  if (pathname === \"/\") {\n    return null;\n  }\n\n  if (!isLoaded || !isUserLoaded) {\n    return null;\n  }\n\n  return (\n    <div className=\"flex justify-end mt-1\">\n      <SignedIn>\n        <OrganizationSwitcher\n          hidePersonal\n          createOrganizationMode={\n            pathname === \"/onboarding\" ? \"navigation\" : \"modal\"\n          }\n          afterCreateOrganizationUrl=\"/organization/:slug\"\n          afterSelectOrganizationUrl=\"/organization/:slug\"\n          createOrganizationUrl=\"/onboarding\"\n          appearance={{\n            elements: {\n              organizationSwitcherTrigger:\n                \"border border-gray-300 rounded-md px-5 py-2\",\n              organizationSwitcherTriggerIcon: \"text-white\",\n            },\n          }}\n        />\n      </SignedIn>\n    </div>\n  );\n};\n\nexport default OrgSwitcher;\n"],"names":[],"mappings":";;;;AAEA;AACA;AAAA;AAAA;;;AAHA;;;AAUA,MAAM,cAAc;;IAClB,MAAM,EAAE,QAAQ,EAAE,GAAG,CAAA,GAAA,+JAAA,CAAA,kBAAe,AAAD;IACnC,MAAM,EAAE,UAAU,YAAY,EAAE,GAAG,CAAA,GAAA,+JAAA,CAAA,UAAO,AAAD;IACzC,MAAM,WAAW,CAAA,GAAA,qIAAA,CAAA,cAAW,AAAD;IAE3B,IAAI,aAAa,KAAK;QACpB,OAAO;IACT;IAEA,IAAI,CAAC,YAAY,CAAC,cAAc;QAC9B,OAAO;IACT;IAEA,qBACE,6LAAC;QAAI,WAAU;kBACb,cAAA,6LAAC,4KAAA,CAAA,WAAQ;sBACP,cAAA,6LAAC,8KAAA,CAAA,uBAAoB;gBACnB,YAAY;gBACZ,wBACE,aAAa,gBAAgB,eAAe;gBAE9C,4BAA2B;gBAC3B,4BAA2B;gBAC3B,uBAAsB;gBACtB,YAAY;oBACV,UAAU;wBACR,6BACE;wBACF,iCAAiC;oBACnC;gBACF;;;;;;;;;;;;;;;;AAKV;GAnCM;;QACiB,+JAAA,CAAA,kBAAe;QACD,+JAAA,CAAA,UAAO;QACzB,qIAAA,CAAA,cAAW;;;KAHxB;uCAqCS"}},
    {"offset": {"line": 76, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 82, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/hp/OneDrive/Documents/rita/my-app/lib/utils.js"],"sourcesContent":["import { clsx } from \"clsx\";\r\nimport { twMerge } from \"tailwind-merge\"\r\n\r\nexport function cn(...inputs) {\r\n  return twMerge(clsx(inputs));\r\n}\r\n"],"names":[],"mappings":";;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAM;IAC1B,OAAO,CAAA,GAAA,8JAAA,CAAA,UAAO,AAAD,EAAE,CAAA,GAAA,wIAAA,CAAA,OAAI,AAAD,EAAE;AACtB"}},
    {"offset": {"line": 95, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 101, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/hp/OneDrive/Documents/rita/my-app/components/ui/button.jsx"],"sourcesContent":["import * as React from \"react\"\r\nimport { Slot } from \"@radix-ui/react-slot\"\r\nimport { cva } from \"class-variance-authority\";\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nconst buttonVariants = cva(\r\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\r\n  {\r\n    variants: {\r\n      variant: {\r\n        default:\r\n          \"bg-primary text-primary-foreground shadow hover:bg-primary/90\",\r\n        destructive:\r\n          \"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90\",\r\n        outline:\r\n          \"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground\",\r\n        secondary:\r\n          \"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80\",\r\n        ghost: \"hover:bg-accent hover:text-accent-foreground\",\r\n        link: \"text-primary underline-offset-4 hover:underline\",\r\n      },\r\n      size: {\r\n        default: \"h-9 px-4 py-2\",\r\n        sm: \"h-8 rounded-md px-3 text-xs\",\r\n        lg: \"h-10 rounded-md px-8\",\r\n        icon: \"h-9 w-9\",\r\n      },\r\n    },\r\n    defaultVariants: {\r\n      variant: \"default\",\r\n      size: \"default\",\r\n    },\r\n  }\r\n)\r\n\r\nconst Button = React.forwardRef(({ className, variant, size, asChild = false, ...props }, ref) => {\r\n  const Comp = asChild ? Slot : \"button\"\r\n  return (\r\n    (<Comp\r\n      className={cn(buttonVariants({ variant, size, className }))}\r\n      ref={ref}\r\n      {...props} />)\r\n  );\r\n})\r\nButton.displayName = \"Button\"\r\n\r\nexport { Button, buttonVariants }\r\n"],"names":[],"mappings":";;;;;AAAA;AAEA;AAEA;AAHA;;;;;;AAKA,MAAM,iBAAiB,CAAA,GAAA,mKAAA,CAAA,MAAG,AAAD,EACvB,ySACA;IACE,UAAU;QACR,SAAS;YACP,SACE;YACF,aACE;YACF,SACE;YACF,WACE;YACF,OAAO;YACP,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;QACR;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AAGF,MAAM,uBAAS,8JAAM,UAAU,MAAC,CAAC,EAAE,SAAS,EAAE,OAAO,EAAE,IAAI,EAAE,UAAU,KAAK,EAAE,GAAG,OAAO,EAAE;IACxF,MAAM,OAAO,UAAU,mKAAA,CAAA,OAAI,GAAG;IAC9B,qBACG,6LAAC;QACA,WAAW,CAAA,GAAA,+GAAA,CAAA,KAAE,AAAD,EAAE,eAAe;YAAE;YAAS;YAAM;QAAU;QACxD,KAAK;QACJ,GAAG,KAAK;;;;;;AAEf;;AACA,OAAO,WAAW,GAAG"}},
    {"offset": {"line": 162, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 168, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/hp/OneDrive/Documents/rita/my-app/actions/projects.js"],"sourcesContent":["\"use server\";\n\nimport { db } from \"@/lib/prisma\";\nimport { auth, clerkClient } from \"@clerk/nextjs/server\";\n\nexport async function createProject(data) {\n  const { userId, orgId } = auth();\n\n  if (!userId) {\n    throw new Error(\"Unauthorized\");\n  }\n\n  if (!orgId) {\n    throw new Error(\"No Organization Selected\");\n  }\n\n  // Check if the user is an admin of the organization\n  const { data: membershipList } =\n    await clerkClient().organizations.getOrganizationMembershipList({\n      organizationId: orgId,\n    });\n\n  const userMembership = membershipList.find(\n    (membership) => membership.publicUserData.userId === userId\n  );\n\n  if (!userMembership || userMembership.role !== \"org:admin\") {\n    throw new Error(\"Only organization admins can create projects\");\n  }\n\n  try {\n    const project = await db.project.create({\n      data: {\n        name: data.name,\n        key: data.key,\n        description: data.description,\n        organizationId: orgId,\n      },\n    });\n\n    return project;\n  } catch (error) {\n    throw new Error(\"Error creating project: \" + error.message);\n  }\n}\n\nexport async function getProject(projectId) {\n  const { userId, orgId } = auth();\n\n  if (!userId || !orgId) {\n    throw new Error(\"Unauthorized\");\n  }\n\n  // Find user to verify existence\n  const user = await db.user.findUnique({\n    where: { clerkUserId: userId },\n  });\n\n  if (!user) {\n    throw new Error(\"User not found\");\n  }\n\n  // Get project with sprints and organization\n  const project = await db.project.findUnique({\n    where: { id: projectId },\n    include: {\n      sprints: {\n        orderBy: { createdAt: \"desc\" },\n      },\n    },\n  });\n\n  if (!project) {\n    throw new Error(\"Project not found\");\n  }\n\n  // Verify project belongs to the organization\n  if (project.organizationId !== orgId) {\n    return null;\n  }\n\n  return project;\n}\n\nexport async function deleteProject(projectId) {\n  const { userId, orgId, orgRole } = auth();\n\n  if (!userId || !orgId) {\n    throw new Error(\"Unauthorized\");\n  }\n\n  if (orgRole !== \"org:admin\") {\n    throw new Error(\"Only organization admins can delete projects\");\n  }\n\n  const project = await db.project.findUnique({\n    where: { id: projectId },\n  });\n\n  if (!project || project.organizationId !== orgId) {\n    throw new Error(\n      \"Project not found or you don't have permission to delete it\"\n    );\n  }\n\n  await db.project.delete({\n    where: { id: projectId },\n  });\n\n  return { success: true };\n}"],"names":[],"mappings":";;;;;;;IAKsB;IAyCA;IAsCA"}},
    {"offset": {"line": 178, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 184, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/hp/OneDrive/Documents/rita/my-app/hooks/use-fetch.js"],"sourcesContent":["import { useState } from \"react\";\r\nimport { toast } from \"sonner\";\r\n\r\nconst useFetch = (cb) => {\r\n  const [data, setData] = useState(undefined);\r\n  const [loading, setLoading] = useState(null);\r\n  const [error, setError] = useState(null);\r\n\r\n  const fn = async (...args) => {\r\n    setLoading(true);\r\n    setError(null);\r\n\r\n    try {\r\n      const response = await cb(...args);\r\n      setData(response);\r\n      setError(null);\r\n    } catch (error) {\r\n      setError(error);\r\n      toast.error(error.message);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return { data, loading, error, fn, setData };\r\n};\r\n\r\nexport default useFetch;"],"names":[],"mappings":";;;AAAA;AACA;;;;AAEA,MAAM,WAAW,CAAC;;IAChB,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACjC,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACvC,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAEnC,MAAM,KAAK,OAAO,GAAG;QACnB,WAAW;QACX,SAAS;QAET,IAAI;YACF,MAAM,WAAW,MAAM,MAAM;YAC7B,QAAQ;YACR,SAAS;QACX,EAAE,OAAO,OAAO;YACd,SAAS;YACT,2IAAA,CAAA,QAAK,CAAC,KAAK,CAAC,MAAM,OAAO;QAC3B,SAAU;YACR,WAAW;QACb;IACF;IAEA,OAAO;QAAE;QAAM;QAAS;QAAO;QAAI;IAAQ;AAC7C;GAtBM;uCAwBS"}},
    {"offset": {"line": 224, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 230, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/hp/OneDrive/Documents/rita/my-app/app/%28main%29/organization/%5BorgId%5D/_components/delete-project.jsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect } from \"react\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Trash2 } from \"lucide-react\";\r\nimport { useOrganization } from \"@clerk/nextjs\";\r\nimport { deleteProject } from \"@/actions/projects\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport useFetch from \"@/hooks/use-fetch\";\r\nimport { toast } from \"sonner\";\r\n\r\nexport default function DeleteProject({ projectId }) {\r\n  const { membership } = useOrganization();\r\n  const router = useRouter();\r\n\r\n  const {\r\n    loading: isDeleting,\r\n    error,\r\n    fn: deleteProjectFn,\r\n    data: deleted,\r\n  } = useFetch(deleteProject);\r\n\r\n  const isAdmin = membership?.role === \"org:admin\";\r\n\r\n  const handleDelete = async () => {\r\n    if (window.confirm(\"Are you sure you want to delete this project?\")) {\r\n      deleteProjectFn(projectId);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (deleted) {\r\n      toast.error(\"Project Deleted\");\r\n      router.refresh();\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [deleted]);\r\n\r\n  if (!isAdmin) return null;\r\n\r\n  return (\r\n    <>\r\n      <Button variant=\"ghost\" size=\"sm\"\r\n        className={`${isDeleting ? \"animate-pulse\" : \"\"}`}\r\n        onClick={handleDelete}\r\n        disabled={isDeleting}\r\n      >\r\n        <Trash2 className=\"h-4 w-4\" />\r\n      </Button>\r\n      {error && <p className=\"text-red-500 text-sm\">{error.message}</p>}\r\n    </>\r\n  );\r\n}"],"names":[],"mappings":";;;;AAEA;AACA;AAGA;AACA;AACA;AACA;AAJA;AADA;;;AAJA;;;;;;;;;AAWe,SAAS,cAAc,EAAE,SAAS,EAAE;;IACjD,MAAM,EAAE,UAAU,EAAE,GAAG,CAAA,GAAA,+JAAA,CAAA,kBAAe,AAAD;IACrC,MAAM,SAAS,CAAA,GAAA,qIAAA,CAAA,YAAS,AAAD;IAEvB,MAAM,EACJ,SAAS,UAAU,EACnB,KAAK,EACL,IAAI,eAAe,EACnB,MAAM,OAAO,EACd,GAAG,CAAA,GAAA,wHAAA,CAAA,UAAQ,AAAD,EAAE,sHAAA,CAAA,gBAAa;IAE1B,MAAM,UAAU,YAAY,SAAS;IAErC,MAAM,eAAe;QACnB,IAAI,OAAO,OAAO,CAAC,kDAAkD;YACnE,gBAAgB;QAClB;IACF;IAEA,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;mCAAE;YACR,IAAI,SAAS;gBACX,2IAAA,CAAA,QAAK,CAAC,KAAK,CAAC;gBACZ,OAAO,OAAO;YAChB;QACA,uDAAuD;QACzD;kCAAG;QAAC;KAAQ;IAEZ,IAAI,CAAC,SAAS,OAAO;IAErB,qBACE;;0BACE,6LAAC,8HAAA,CAAA,SAAM;gBAAC,SAAQ;gBAAQ,MAAK;gBAC3B,WAAW,GAAG,aAAa,kBAAkB,IAAI;gBACjD,SAAS;gBACT,UAAU;0BAEV,cAAA,6LAAC,6MAAA,CAAA,SAAM;oBAAC,WAAU;;;;;;;;;;;YAEnB,uBAAS,6LAAC;gBAAE,WAAU;0BAAwB,MAAM,OAAO;;;;;;;;AAGlE;GAzCwB;;QACC,+JAAA,CAAA,kBAAe;QACvB,qIAAA,CAAA,YAAS;QAOpB,wHAAA,CAAA,UAAQ;;;KATU"}},
    {"offset": {"line": 320, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}